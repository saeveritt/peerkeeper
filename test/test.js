!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var r={},n={},t={},u={}.hasOwnProperty,i=/^\.\.?(\/|$)/,o=function(e,r){for(var n,t=[],u=(i.test(r)?e+"/"+r:r).split("/"),o=0,c=u.length;c>o;o++)n=u[o],".."===n?t.pop():"."!==n&&""!==n&&t.push(n);return t.join("/")},c=function(e){return e.split("/").slice(0,-1).join("/")},s=function(r){return function(n){var t=o(c(r),n);return e.require(t,r)}},f=function(e,r){var t=null;t=y&&y.createHot(e);var u={id:e,exports:{},hot:t};return n[e]=u,r(u.exports,s(e),u),u.exports},a=function(e){return t[e]?a(t[e]):e},d=function(e,r){return a(o(c(e),r))},h=function(e,t){null==t&&(t="/");var i=a(e);if(u.call(n,i))return n[i].exports;if(u.call(r,i))return f(i,r[i]);throw new Error("Cannot find module '"+e+"' from '"+t+"'")};h.alias=function(e,r){t[r]=e};var l=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,b=function(e){if(l.test(e)){var r=e.replace(l,"");u.call(t,r)&&t[r].replace(l,"")!==r+"/index"||(t[r]=e)}if(p.test(e)){var n=e.replace(p,"");u.call(t,n)||(t[n]=e)}};h.register=h.define=function(e,t){if("object"==typeof e)for(var i in e)u.call(e,i)&&h.register(i,e[i]);else r[e]=t,delete n[e],b(e)},h.list=function(){var e=[];for(var n in r)u.call(r,n)&&e.push(n);return e};var y=e._hmr&&new e._hmr(d,h,r,n);h._cache=n,h.hmr=y&&y.wrap,h.brunch=!0,e.require=h}}(),function(){var e;window;require.register("test/all.ls",function(e,r,n){r("./keygen-tests"),r("./encoding-tests")}),require.register("test/encoding-tests.ls",function(e,r,n){var t,u,i,o,c,s,f,a,d,h;t=r("chai"),u=t.assert,i=t.expect,o=t.should,c=r("./test-utils"),s=c.appRequire,f=c.log,a=s("utils/encoding"),d="c21b230fd50173c75f99122da008b423323a43d31530091866e354f0f9e6",h=new Buffer([161,231,32,82,105,186,141,154,37,254,204,216,166,51,154,4,246,49,67,245,197,9,187,239,145,121,80,195,86,251,77,16]),describe("Encoding",function(){return describe("encode-buffer",function(){return specify("buffer-to-hex should be hexadecimal",function(e){return u.match(a.bufferToHex(h),/^[0-9a-fA-F]+$/),e()}),specify("buffer-to-base64 should be base64",function(e){return u.match(a.bufferToBase64(h),/^[A-Za-z0-9\/]+=*$/),e()}),specify("buffer-to-base58 should be base58",function(e){return u.match(a.bufferToBase58(h),/^[a-km-zA-HJ-NP-Z0-9]+$/),e()}),specify("buffer-to-base58check should be base58",function(e){return u.match(a.bufferToBase58check(h),/^[a-km-zA-HJ-NP-Z0-9]+$/),e()})}),describe("encode-decode",function(){return specify("hex",function(e){return u.equal(a.bufferToHex(a.hexToBuffer(d)),d),e()}),specify("base64",function(e){return u.equal(a.bufferToHex(a.base64ToBuffer(a.bufferToBase64(a.hexToBuffer(d)))),d),e()}),specify("base58",function(e){return u.equal(a.bufferToHex(a.base58ToBuffer(a.bufferToBase58(a.hexToBuffer(d)))),d),e()}),specify("base58check",function(e){return u.equal(a.bufferToHex(a.base58checkToBuffer(a.bufferToBase58check(a.hexToBuffer(d)))),d),e()})})})}),require.register("test/keygen-tests.ls",function(e,r,n){var t,u,i,o,c,s,f,a,d,h;t=r("chai"),t.use(r("chai-string")),u=t.assert,i=t.expect,o=t.should,c=r("./test-utils").appRequire,s=c("utils/keygen"),f=4,a="65j;:B6wzBLg9ha",d="*78)KGk32@@-T/LR9_V{=1 1c%,qqDavnqrnuehpafiudhfwivneihcfoxqhwedvnhcamsdahfiohcmehincam;xdhfrhencilhsgfachnfnhhfoicnarigfyuogncoawehvowrhncwf auiehfapuhv;avnqrnuehpafiudhfwivneihcfoxqhwedvnhcamsdahfiohcmehincam;xdhfrhencilhsgfachnfnhhfoicnarigfyuogncoawehvowrhncwfauiehfapuhv;avnqrnuehpafiudhfwivneihcfoxqhwedvnhcamsdahfiohcmehincam;xdhfrhencilhsgfachnfnhhfoicnarigfyuogncoawehvowrhncwf",h=function(){return new Buffer([161,231,32,82,105,186,141,154,37,254,204,216,166,51,154,4,246,49,67,245,197,9,187,239,145,121,80,195,86,251,77,16])},describe("Key Generation",function(){return describe("generate-locked-key",function(){return specify("should be a hexadecimal string",function(e){return s.generateLockedKey(h(),a,f,function(r){return u.isString(r),u.match(r,/^[0-9a-fA-F]+$/),e()})}),specify("should have the number of rounds encoded",function(e){return s.generateLockedKey(h(),a,f,function(r){var n;return n=(128|f).toString(16),i(r).to.startsWith(n),e()})})}),describe("unlock-key",function(){return specify("should succesfully unlock using short password",function(e){return s.generateLockedKey(h(),a,f,function(r){return s.unlockKey(r,a,function(r){return u(r),e()})})}),specify("should succesfully unlock using long password",function(e){return s.generateLockedKey(h(),d,f,function(r){return s.unlockKey(r,d,function(r){return u(r),e()})})}),specify("should detect incorrect password",function(e){return s.generateLockedKey(h(),"correct password",f,function(r){return s.unlockKey(r,"incorrect password",function(r){return u.isFalse(r),e()})})}),specify("should detect incorrect empty password",function(e){return s.generateLockedKey(h(),"",f,function(r){return s.unlockKey(r,"",function(r){return u.isFalse(r),e()})})}),specify("should not detect incorrect password when checksum bit is not set",function(e){return s.generateLockedKey(h(),"correct password",f,function(r){return r="0"+r.substr(1),s.unlockKey(r,"incorrect password",function(r){return u(r),e()})})}),specify("should not detect incorrect empty password when checksum bit is not set",function(e){return s.generateLockedKey(h(),"correct password",f,function(r){return r="0"+r.substr(1),s.unlockKey(r,"",function(r){return u(r),e()})})})}),describe("generate-hdroot",function(){return specify("should generate correct root keys",function(e){return s.generateLockedKey(h(),a,f,function(r){return s.unlockKey(r,a,function(r){return s.generateHdroot(r,function(r){return u.equal(r.privateKey.toString(),"4da79e99b3addbb9edda2d1bb2f6604fc7de96d2a971a6b631efde3bf3ca6c2d"),u.equal(r.publicKey.toAddress().toString(),"PA3BonhnFAVCef9PhTMqB2NJbqbRHuGky2"),e()})})})})}),describe("extract-address",function(){return specify("should correctly extract the first address in a string",function(e){return u.equal(s.extractAddress("Blabla peercoin:PLt3zi1LhPvPZXbtcmYbnzkqes8YB9dJ4o,some other text"),"PLt3zi1LhPvPZXbtcmYbnzkqes8YB9dJ4o"),e()})})})}),require.register("test/test-utils.ls",function(e,r,n){n.exports={appRequire:function(e){var n;try{return r(e)}catch(t){return n=t,r("../app/"+e)}},log:function(e){return console.log(e),e}}}),require.alias("events/events.js","events"),require.alias("buffer/index.js","buffer"),require.alias("crypto-browserify/index.js","crypto"),require.alias("process/browser.js","process"),require.alias("assert/assert.js","assert"),require.alias("url/url.js","url"),require.alias("punycode/punycode.js","punycode"),require.alias("querystring-es3/index.js","querystring"),require.alias("util/util.js","sys"),require.alias("stream-browserify/index.js","stream"),require.alias("string_decoder/index.js","string_decoder"),require.alias("vm-browserify/index.js","vm"),e=require("process"),require.register("___globals___",function(e,r,n){})}(),require("___globals___");