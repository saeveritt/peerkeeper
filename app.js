!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},n={},r={},s={}.hasOwnProperty,i=/^\.\.?(\/|$)/,a=function(e,t){for(var n,r=[],s=(i.test(t)?e+"/"+t:t).split("/"),a=0,o=s.length;o>a;a++)n=s[a],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(n){var r=a(o(t),n);return e.require(r,t)}},l=function(e,t){var r=null;r=g&&g.createHot(e);var s={id:e,exports:{},hot:r};return n[e]=s,t(s.exports,c(e),s),s.exports},u=function(e){return r[e]?u(r[e]):e},d=function(e,t){return u(a(o(e),t))},m=function(e,r){null==r&&(r="/");var i=u(e);if(s.call(n,i))return n[i].exports;if(s.call(t,i))return l(i,t[i]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};m.alias=function(e,t){r[t]=e};var p=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,f=function(e){if(p.test(e)){var t=e.replace(p,"");s.call(r,t)&&r[t].replace(p,"")!==t+"/index"||(r[t]=e)}if(h.test(e)){var n=e.replace(h,"");s.call(r,n)||(r[n]=e)}};m.register=m.define=function(e,r){if("object"==typeof e)for(var i in e)s.call(e,i)&&m.register(i,e[i]);else t[e]=r,delete n[e],f(e)},m.list=function(){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e};var g=e._hmr&&new e._hmr(d,m,t,n);m._cache=n,m.hmr=g&&g.wrap,m.brunch=!0,e.require=m}}(),function(){var e;window;require.register("Plugins.ls",function(e,t,n){var r,s,i,a,o;r=t("./stores/MenuStore"),s=t("./components/main/Overview"),i=t("./components/main/Checking"),a=t("./components/main/Savings"),o=t("./components/main/PeerAssets"),n.exports={init:function(){return r.register("Overview",s),r.register("Checking",i),r.register("Savings",a),r.register("PeerAssets",o)}}}),require.register("actions/CheckingActions.ls",function(e,t,n){var r,s,i,a,o,c;r=t("../dispatcher/AppDispatcher"),s=t("../constants/CheckingConstants"),i=t("react"),a=t("../components/modals/FormModal"),o=t("../components/modals/SendModal"),c=t("../components/modals/ReceiveModal"),n.exports={closeModal:function(){return r.dispatch({actionType:s.CHECKING_STATE_NONE,addr:null})},send:function(e){return r.dispatch({actionType:s.CHECKING_STATE_SEND,addr:e})},receive:function(e){return r.dispatch({actionType:s.CHECKING_STATE_RECEIVE,addr:e})},toSavings:function(){return r.dispatch({actionType:s.CHECKING_STATE_TOSAVINGS,addr:null})},toChecking:function(){return r.dispatch({actionType:s.CHECKING_STATE_TOCHECKING,addr:null})},renderCheckingModal:function(e,t){switch(e){case s.CHECKING_STATE_SEND:return i.createElement(o,{fromAddress:t,hidden:!1,submitCallback:this.closeModal});case s.CHECKING_STATE_RECEIVE:return i.createElement(c,{toAddress:t,hidden:!1,submitCallback:this.closeModal});case s.CHECKING_STATE_TOSAVINGS:return i.createElement(a,{title:"Deposit to Savings",hidden:!1,submitCallback:this.closeModal});case s.CHECKING_STATE_TOCHECKING:return i.createElement(a,{title:"Withdraw to Checking",hidden:!1,submitCallback:this.closeModal});default:return null}}}}),require.register("actions/KeyActions.ls",function(e,t,n){var r,s,i,a,o,c;r=t("../dispatcher/AppDispatcher"),s=t("../constants/KeyConstants"),i=t("../utils/keygen"),a=4,o=function(){return window.location.origin+window.location.pathname},n.exports=c={setLockedKey:function(e){return r.dispatch({actionType:s.KEY_SET_LOCKED,lockedKey:e}),window.location=o()+"#key="+e},generateLockedKey:function(e){var t;return t=i.generateRandomSeed(),i.generateLockedKey(t,e,a,function(e){return window.location=o()+"#key="+e+"&newkey",c.setLockedKey(e)})},unlock:function(e,t){return r.dispatch({actionType:s.KEY_UNLOCK,lockedKey:e,password:t})}}}),require.register("actions/MenuActions.ls",function(e,t,n){var r,s;r=t("../dispatcher/AppDispatcher"),s=t("../constants/MenuConstants"),n.exports={toggle:function(){return r.dispatch({actionType:s.MENU_TOGGLE})},select:function(e){return r.dispatch({actionType:s.MENU_SELECT,id:e})}}}),require.register("components/WalletApp.ls",function(e,t,n){var r,s,i,a,o,c;r=t("react"),s=r.DOM.div,i=t("../stores/KeyStore"),a=t("./splash/Splash"),o=t("./main/Main"),c=function(){return{lockedKey:i.getLockedKey(),locked:i.locked()}},n.exports=r.createClass({content:function(){return this.state.locked?r.createElement(a,{lockedKey:this.state.lockedKey}):r.createElement(o)},render:function(){return s({id:"wa-content",className:"container"},this.content())},getInitialState:c,_onChange:function(){return this.setState(c())},componentDidMount:function(){return i.addChangeListener(this._onChange)},componentWillUnmount:function(){return i.removeChangeListener(this._onChange)}})}),require.register("components/generic/QRScanner.ls",function(e,t,n){var r,s;r=t("react"),s=r.DOM.video,n.exports=r.createClass({propTypes:{success:r.PropTypes.func,error:r.PropTypes.func},getDefaultProps:function(){return{success:function(e){return console.log("QR code scanned: "+e)},error:function(e){return console.error(e)}}},render:function(){return s({id:"qr-video",width:"256",height:"256",autoPlay:!0})},scanForQr:function(){var e,t,n,r;return e=document.getElementById("qr-video"),e.hidden=!1,t=this.props.success,n=this.props.error,r=QCodeDecoder(),r.decodeFromCamera(e,function(r,s){return e.hidden=!0,r?n(r):t(s)},!0)},componentDidMount:function(){return this.scanForQr()},componentDidUpdate:function(){return this.scanForQr()}})}),require.register("components/main/Checking.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m,p,h,f,g,y,b,C,N,v,k,T,w,E;r=t("../../stores/CheckingStore"),s=t("../../constants/CheckingConstants"),i=t("../../actions/CheckingActions"),a=t("../../stores/KeyStore"),o=t("prelude-ls").map,c=t("react"),l=c.DOM,u=l.a,d=l.i,m=l.div,p=l.h2,h=l.table,f=l.thead,g=l.tbody,y=l.th,b=l.tr,C=l.td,N=l.h4,v=function(){return{accounts:a.getCheckingAccounts(),totalBalance:a.getCheckingBalance(),viewState:r.getState(),selectedAddr:r.getSelectedAddr()}},n.exports=c.createClass({render:function(){return m(null,p({className:"ui blue header"},"Checking"),m({className:"ui two column stackable grid container"},m({className:"row"},m({className:"five wide column"},m({className:"ui large form"},m({className:"ui field fluid large basic blue submit button",onClick:k(null)},"Send"),m({className:"ui field fluid large basic blue submit button",onClick:T(null)},"Receive"),m({className:"ui field fluid large basic blue submit button",onClick:i.toSavings},"To Savings"))),m({className:"eleven wide column"},m({className:"ui container"},m({className:"ui fluid card"},m({className:"content"},m({className:"right floated"},this.state.totalBalance+" PPC"),m({className:"header"},"Total"))),o(function(e){return E(e)})(this.state.accounts))))),i.renderCheckingModal(this.state.viewState,this.state.selectedAddr))},getInitialState:v,_onChange:function(){return this.setState(v())},componentDidMount:function(){return r.addChangeListener(this._onChange)},componentWillUnmount:function(){return r.removeChangeListener(this._onChange)}}),k=function(e){return function(){return i.send(e)}},T=function(e){return function(){return i.receive(e)}},w=function(e){return 0===e.txns.length?m({className:"ui teal label"},"empty address"):u({className:"ui label"},e.txns.length+" transactions")},E=function(e){return m({className:"ui fluid card",key:e.address},m({className:"content"},m({className:"right floated"},e.balance+" PPC"),m({className:"header"},e.address.substr(0,15)+"..."),m({className:"description"},w(e))),m({className:"extra content"},m({className:"ui two buttons"},m({className:"ui basic green button",onClick:T(e.address)},"Receive"),m({className:"ui basic red button",onClick:k(e.address)},"Send"))))}}),require.register("components/main/Main.ls",function(e,t,n){function r(e,t){var n,r=function(s){return e.length>1?function(){var i=s?s.concat():[];return n=t?n||this:this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}var s,i,a,o,c,l,u,d,m,p,h,f;s=t("react"),i=s.DOM,a=i.a,o=i.i,c=i.div,l=i.form,u=i.h4,d=t("prelude-ls"),m=t("../../stores/MenuStore"),p=t("../../actions/MenuActions"),h=function(){return{isCollapsed:m.isCollapsed(),menuItems:m.getAllItems(),selectedId:m.getSelectedId()}},n.exports=s.createClass({menuItems:function(){var e;return e=this.state.selectedId,d.map(function(t){return t.id===e?a({className:"active item",key:t.id,onClick:f(t.id)},t.name):a({className:"item",key:t.id,onClick:f(t.id)},t.name)})(this.state.menuItems)},createSelectedElement:function(){var e,t;return e=this.state.selectedId,t=d.head(d.map(function(e){return e.comp?s.createElement(e.comp):void 0})(d.filter(function(t){return t.id===e})(this.state.menuItems)))},render:function(){return c({className:""},c({className:"ui small menu fixed wa-computer"},c({className:"item"},u({className:"ui blue header"},"PeerKeeper")),this.menuItems(),c({className:"item aligned right"},"Minting: ACTIVE")),c({className:"ui stackable small menu fixed wa-mobile"},c({className:"item",onClick:p.toggle},u({className:"ui blue header"},c({className:"horizontal"},o({className:"sidebar icon"}),"PeerKeeper"))),this.state.isCollapsed?void 0:this.menuItems()),c({className:"ui secondary menu placeholder"}),c({className:"ui text container"},this.createSelectedElement()))},getInitialState:h,_onChange:function(){return this.setState(h())},componentDidMount:function(){return m.addChangeListener(this._onChange)},componentWillUnmount:function(){return m.removeChangeListener(this._onChange)}}),f=r(function(e,t){return p.select(e)})}),require.register("components/main/Overview.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m,p,h,f,g,y,b,C,N,v;r=t("../../stores/KeyStore"),s=t("../../stores/CheckingStore"),i=t("../../actions/CheckingActions"),a=t("prelude-ls"),o=a.map,c=a.sum,l=t("react"),a=l.DOM,u=a.a,d=a.i,m=a.div,p=a.h2,h=a.table,f=a.thead,g=a.tbody,y=a.th,b=a.tr,C=a.td,N=a.h4,v=function(){return{checkingBalance:r.getCheckingBalance(),savingsBalance:1e3,checkingState:s.getState()}},n.exports=l.createClass({render:function(){return m({className:"ui two column stackable grid container"},m({className:"row"},m({className:"nine wide column"},p({className:"ui blue header"},"Balances"),m({className:"ui container"},m({className:"ui fluid card"},m({className:"content"},m({className:"right floated"},this.state.checkingBalance+this.state.savingsBalance+" PPC"),m({className:"header"},"Total"))),m({className:"ui fluid card"},m({className:"content"},m({className:"right floated"},this.state.checkingBalance+" PPC"),m({className:"header"},"Checking"),m({className:"meta"},"Payment accounts"),m({className:"description"},u({className:"ui label"},this.getTotalTxnCount()+" transactions"))),m({className:"extra content"},m({className:"ui two buttons"},m({className:"ui basic green button",onClick:i.receive},"Receive"),m({className:"ui basic red button",onClick:i.send},"Send")))),m({className:"ui fluid card"},m({className:"content"},m({className:"right floated"},this.state.savingsBalance+" PPC"),m({className:"header"},"Savings"),m({className:"meta"},"Hardened minting accounts")),m({className:"extra content"},m({className:"ui two buttons"},m({className:"ui basic green button",onClick:i.toSavings},"Deposit"),m({className:"ui basic red button",onClick:i.toChecking},"Withdraw")))))),m({className:"seven wide column"},p({className:"ui blue header"},"Recent transactions"),m({className:"ui fluid vertical steps"},u({className:"step"},d({className:"green download icon"}),m({className:"content"},m({className:"title"},"100 PPC"),m({className:"description"},"01/01/2016 12:03"))),u({className:"step"},d({className:"red upload icon"}),m({className:"content"},m({className:"title"},"-350 PPC"),m({className:"description"},"10/10/2015 14:22")))))),i.renderCheckingModal(this.state.checkingState,null))},getInitialState:v,getTotalTxnCount:function(){return c(o(function(e){return e.txns.length})(r.getCheckingAccounts()))},_onChange:function(){return this.setState(v())},componentDidMount:function(){return s.addChangeListener(this._onChange)},componentWillUnmount:function(){return s.removeChangeListener(this._onChange)}})}),require.register("components/main/PeerAssets.ls",function(e,t,n){var r,s,i,a;r=t("react"),s=r.DOM,i=s.div,a=s.h2,n.exports=r.createClass({render:function(){return i(null,a({className:"ui blue header"},"PeerAssets"),i({className:"column"},i({className:"ui large form"},i({className:"ui field fluid large basic blue submit button"},"Trade Assets"),i({className:"ui field fluid large basic blue submit button"},"Create Asset"),i({className:"ui field fluid large basic blue submit button"},"Explore Assets"))))}})}),require.register("components/main/Savings.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m,p,h,f,g,y,b;r=t("react"),s=r.DOM,i=s.a,a=s.i,o=s.input,c=s.label,l=s.div,u=s.h2,d=s.table,m=s.thead,p=s.tbody,h=s.th,f=s.tr,g=s.td,y=s.h4,b=s.form,n.exports=r.createClass({render:function(){return l(null,u({className:"ui blue header"},"Savings"),l({className:"ui two column stackable grid container"},l({className:"row"},l({className:"five wide column"},l({className:"ui large form"},l({className:"ui field fluid large basic blue submit button"},"Pause minting"),l({className:"ui field fluid large basic blue submit button"},"Group outputs"),l({className:"ui field fluid large basic blue submit button"},"Export keys"))),l({className:"eleven wide column"},l({className:"ui container"},d({className:"ui celled table"},m(null,f(null,h(null),h(null,y({className:"ui header"},l({className:"content"},"Total"),l({className:"sub header"},""))),h(null,"1000 PPC"))),p(null,f(null,g(null,l({className:"ui checkbox"},o({type:"checkbox"}),c(null,""))),g(null,y({className:"ui header"},l({className:"content"},"a38rc1ab83..."),l({className:"sub header"},"Maturing"))),g(null,l({className:"ui red label"},"120 PPC"))),f(null,g(null,l({className:"ui checkbox"},o({type:"checkbox"}),c(null,""))),g(null,y({className:"ui header"},l({className:"content"},"82c1a4f7f2..."),l({className:"sub header"},"85% Probability (10min)"))),g(null,l({className:"ui green label"},"650 PPC"))),f(null,g(null,l({className:"ui checkbox"},o({type:"checkbox"}),c(null,""))),g(null,y({className:"ui header"},l({className:"content"},"cc65d2229..."),l({className:"sub header"},"Low stake"))),g(null,l({className:"ui yellow label"},"50 PPC"))))))))))}})}),require.register("components/modals/BackupModal.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m,p;r=t("react"),s=r.DOM,i=s.div,a=s.p,o=s.ul,c=s.li,l=s.a,u=s.b,d=s.input,m=t("./FormModal"),p=t("../../utils/cardprinting"),n.exports=r.createClass({propTypes:{hexKey:r.PropTypes.string.isRequired},render:function(){return r.createElement(m,{id:"backup-modal",hidden:!1,submitText:"Continue"},i({className:"ui visible warning message"},i({className:"content"},i({className:"header"},"Back-up your key!"),a(null,"You just generated a new key, back it up now! It is NOT possible to recover the key later."),a(null,"The key is locked by your password. A strong password allows printing and bookmarking of the key."),o({className:"list"},c(null,"Store your key: ",d({type:"text",readOnly:!0,value:this.props.hexKey})),c(null,"Bookmark this link: ",l({href:window.location.origin+"#key="+this.props.hexKey},"My PeerKeeper Wallet")),c(null,"Print your ",l({href:window.location.toString(),onClick:this.printKeyCard},u(null,"key card")))))))},printKeyCard:function(){return p.printKeyCard(this.props.hexKey)}})}),require.register("components/modals/FormModal.ls",function(e,t,n){var r,s,i,a,o,c;r=t("react"),s=r.DOM,i=s.div,a=s.form,o=s.h2,c=s.h4,n.exports=r.createClass({propTypes:{id:r.PropTypes.string,title:r.PropTypes.string,submitText:r.PropTypes.string,submitCallback:r.PropTypes.func,hidden:r.PropTypes.bool,style:r.PropTypes.object},getDefaultProps:function(){return{id:"form-modal",submitText:"Close",submitCallback:function(){return!1},hidden:!1,style:{}}},render:function(){return i({id:this.props.id,className:"ui basic modal"},i({className:"ui middle aligned center aligned grid"},i({className:"twelve wide column"},a({className:"ui form",style:this.props.style},o(null,this.props.title),this.props.children,i({className:"field"}),i({className:"ui field fluid large blue button",onClick:this.submit},this.props.submitText)))))},submit:function(){return this.props.submitCallback(),this.hide()},show:function(){return $("#"+this.props.id).modal("show")},hide:function(){return $("#"+this.props.id).modal("hide")},componentDidMount:function(){return $("#"+this.props.id).modal({detachable:!1,onApprove:this.ok,onDeny:this.cancel}),$("#"+this.props.id).modal("setting","closable",!1),this.props.hidden?void 0:this.show()},componentWillUnmount:function(){return this.hide()}})}),require.register("components/modals/KeyExportModal.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m;r=t("react"),s=r.DOM,i=s.div,a=s.p,o=s.ul,c=s.li,l=s.a,u=s.b,d=s.input,m=t("./FormModal"),n.exports=r.createClass({propTypes:{addresses:r.PropTypes.arrayOf(r.PropTypes.object).isRequired},render:function(){return r.createElement(m,{id:"backup-modal",hidden:!1,submitText:"Continue"},i({className:"ui visible warning message"},i({className:"content"},i({className:"header"},"Back-up your key!"),a(null,"You just generated a new key, back it up now! It is NOT possible to recover the key later."),a(null,"The key is locked by your password. A strong password allows printing and bookmarking of the key."),o({className:"list"},c(null,"Store your key: ",d({type:"text",readOnly:!0,value:this.props.hexKey})),c(null,"Bookmark this link: ",l({href:window.location.origin+"#key="+this.props.hexKey},"My PeerKeeper Wallet")),c(null,"Print your ",l({href:window.location.toString(),onClick:this.printKeyCard},u(null,"key card")))))))},printKeyCard:function(){return CardPrinting.printKeyCard(this.props.hexKey)}})}),require.register("components/modals/ReceiveModal.ls",function(e,t,n){var r,s,i,a,o,c,l,u;r=t("react"),s=r.DOM,i=s.div,a=s.h4,o=s.i,c=s.input,l=t("./FormModal"),u=t("../../stores/KeyStore"),n.exports=r.createClass({propTypes:{id:r.PropTypes.string,toAddress:r.PropTypes.string,submitCallback:r.PropTypes.func,hidden:r.PropTypes.bool},getDefaultProps:function(){return{id:"send-modal",submitCallback:function(){return!1},hidden:!1}},getToAddress:function(){return this.props.toAddress?this.props.toAddress:u.getCheckingAccounts()[0].address},render:function(){return r.createElement(l,{title:"Receive",id:this.props.id,hidden:this.props.hidden,submitCallback:this.props.submitCallback},i(null,a(null,"Provide the sender the following address:"),i({className:"field"},i({className:"ui left icon input"},o({className:"money icon"}),c({id:"addr",value:this.getToAddress().substr(0,15)+"...",readOnly:!0}))),i({className:"ui field center aligned grid"},i({className:"ui segment",style:{minHeight:"256px"}},i({id:"qrcode"})))))},componentDidMount:function(){return new QRCode(document.getElementById("qrcode"),{text:this.getToAddress(),correctLevel:QRCode.CorrectLevel.H})}})}),require.register("components/modals/SendModal.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m;r=t("react"),s=r.DOM,i=s.div,a=s.h4,o=s.i,c=s.input,l=s.video,u=t("./FormModal"),d=t("../generic/QRScanner"),m=t("../../utils/keygen"),n.exports=r.createClass({propTypes:{id:r.PropTypes.string,fromAddress:r.PropTypes.string,submitCallback:r.PropTypes.func,hidden:r.PropTypes.bool},getDefaultProps:function(){return{id:"send-modal",submitCallback:function(){return!1},hidden:!1}},getInitialState:function(){return{scanningForQr:!1}},startQrScan:function(){return $("#qr-error").removeClass("visible"),this.state.scanningForQr=!0,this.setState(this.state)},stopQrScan:function(){return this.state.scanningForQr=!1,this.setState(this.state)},render:function(){return r.createElement(u,{title:this.props.fromAddress?"Send from: "+this.props.fromAddress.substr(0,10)+"...":"Send",submitText:"Send",id:this.props.id,hidden:this.props.hidden,submitCallback:this.props.submitCallback,style:{minHeight:"400px"}},i(null,a(null,"Fill in receiver address and amount:"),i({className:"field"},i({className:"ui action left icon input"},o({className:"mail icon"}),c({id:"addr",placeholder:"Receiver address"}),i({className:"ui blue button",onClick:this.startQrScan},"Scan QR")),i({id:"qr-error",className:"ui error message"},"QR scan failed, please try again.")),this.state.scanningForQr?i({className:"field"},r.createElement(d,{success:this.qrScanSuccess,error:this.qrScanError})):void 0,i({className:"field"},i({className:"ui left icon input"},o({className:"money icon"}),c({id:"addr",placeholder:"Amount"})))))},qrScanSuccess:function(e){var t;return t=m.extractAddress(e),console.log("QR scan result: "+t),$("#addr").attr("value",t),this.stopQrScan()},qrScanError:function(e){return console.error(e),$("#qr-error").addClass("visible"),e=null,this.stopQrScan}})}),require.register("components/splash/Splash.ls",function(e,t,n){var r,s,i,a,o,c;r=t("react"),s=r.DOM,i=s.div,a=s.form,o=t("./Welcome"),c=t("./Unlock"),n.exports=r.createClass({propTypes:{lockedKey:r.PropTypes.string},child:function(){return void 0===this.props.lockedKey?r.createElement(o):r.createElement(c,{initialKey:this.props.lockedKey})},render:function(){return i({id:"splash",className:"ui middle aligned center aligned grid"},this.child())}})}),require.register("components/splash/Unlock.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m,p,h,f,g,y,b,C;r=t("react"),s=r.DOM,i=s.div,a=s.form,o=s.h2,c=s.img,l=s.i,u=s.input,d=s.p,m=t("../../stores/KeyStore"),p=t("../../actions/KeyActions"),h=t("../modals/BackupModal"),f=t("../../utils/cardprinting"),g=t("../generic/QRScanner"),y=t("../../utils/encoding"),n.exports=r.createClass({propTypes:{initialKey:r.PropTypes.string},getInitialState:function(){return{scanningForQr:!1}},startQrScan:function(){return $("#qr-error").removeClass("visible"),this.state.scanningForQr=!0,this.setState(this.state)},stopQrScan:function(){return this.state.scanningForQr=!1,this.setState(this.state)},render:function(){var e;return e=m.getError(),i({className:"column"},window.location.toString().includes("&newkey")?r.createElement(h,{hexKey:this.props.initialKey}):void 0,a({className:"ui large form",onSubmit:b},i({className:"ui segment"},o({className:"ui blue image header"},i(null,"Unlock PeerKeeper")),i({className:"field"},i({className:"ui action left icon input"},l({className:"privacy icon"}),u({id:"key",type:"text",name:"key",placeholder:"Locked root key",defaultValue:this.props.initialKey}),i({className:"ui blue button",onClick:this.startQrScan},"Scan"))),this.state.scanningForQr?i({className:"field"},r.createElement(g,{success:this.qrScanSuccess,error:this.qrScanError})):void 0,i({className:"field"},i({className:"ui left icon input"},l({className:"lock icon"}),u({id:"password",type:"password",name:"password",placeholder:"Password",autoFocus:!0}))),u({type:"submit",className:"ui field fluid large blue button",value:"Unlock"})),e?i({className:"ui visible error message"},d(null,e)):void 0,i({id:"qr-error",className:"ui error message"},"QR scan failed, please try again."),i({className:"ui basic button",onClick:C},"Print a card for this key")))},qrScanSuccess:function(e){var t;return t=y.bufferToHex(y.base58ToBuffer(e)),p.setLockedKey(t),console.log("QR scan result: "+t),$("#key").attr("value",t),this.stopQrScan()},qrScanError:function(e){return console.error(e),$("#qr-error").addClass("visible"),e=null,this.stopQrScan}}),b=function(e){return e&&e.preventDefault(),p.unlock(document.getElementById("key").value,document.getElementById("password").value)},C=function(){return f.printKeyCard(document.getElementById("key").value)}}),require.register("components/splash/Welcome.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m,p,h;r=t("react"),s=r.DOM,i=s.div,a=s.h2,o=s.h4,c=s.form,l=s.i,u=s.input,d=t("../../actions/KeyActions"),n.exports=r.createClass({render:function(){return i({className:"column"},c({className:"ui large form"},i({className:"ui segment"},a({className:"ui blue image header"},i({className:"content"},"PeerKeeper")),i({className:"ui field fluid large basic blue button",onClick:m},"I have a key"),i({className:"ui field fluid large primary button",onClick:p},"Generate me a key")),i({className:"ui error message"})),i({className:"ui basic modal"},i({className:"content"},i({className:"ui middle aligned center aligned grid"},i({className:"column"},c({className:"ui large form",onSubmit:h},o(null,"Choose a password to lock your new key."),i({className:"field"},i({className:"ui left icon input"},l({className:"lock icon"}),u({id:"new-password",type:"password",name:"password",placeholder:"Password"}))),i({className:"ui field fluid large blue button",onClick:h},"Generate")))))))},componentDidMount:function(){return $(".ui.modal").modal({detachable:!1,onApprove:this.ok,onDeny:this.cancel})},componentWillUnmount:function(){return $(".ui.modal").modal("hide")}}),m=function(){return d.setLockedKey("")},p=function(){return $(".ui.modal").modal("show")},h=function(e){return e&&e.preventDefault(),d.generateLockedKey(document.getElementById("new-password").value)}}),require.register("constants/CheckingConstants.ls",function(e,t,n){var r;r=t("keymirror"),n.exports=r({CHECKING_STATE_NONE:null,CHECKING_STATE_RECEIVE:null,CHECKING_STATE_SEND:null,CHECKING_STATE_TOSAVINGS:null,CHECKING_STATE_TOCHECKING:null})}),require.register("constants/KeyConstants.ls",function(e,t,n){var r;r=t("keymirror"),n.exports=r({KEY_SET_LOCKED:null,KEY_UNLOCK:null})}),require.register("constants/MenuConstants.ls",function(e,t,n){var r;r=t("keymirror"),n.exports=r({MENU_TOGGLE:null,MENU_SELECT:null})}),require.register("dispatcher/AppDispatcher.ls",function(e,t,n){var r,s;r=t("flux").Dispatcher,s=new r,n.exports=s}),require.register("initialize.js",function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var s=t("react-dom"),i=r(s),a=t("react"),o=r(a),c=t("components/WalletApp"),l=r(c),u=t("./Plugins"),d=r(u);d["default"].init(),document.addEventListener("DOMContentLoaded",function(){i["default"].render(o["default"].createElement(l["default"],null),document.querySelector("#app"))})}),require.register("stores/CheckingStore.ls",function(e,t,n){var r,s,i,a,o,c,l,u;r=t("../dispatcher/AppDispatcher"),s=t("events").EventEmitter,i=t("../constants/CheckingConstants"),a=t("object-assign"),o="change",c=i.CHECKING_STATE_NONE,l=null,u=a({},s.prototype,{getState:function(){return c},getSelectedAddr:function(){return l},emitChange:function(){return this.emit(o)},addChangeListener:function(e){return this.on(o,e)},removeChangeListener:function(e){return this.removeListener(o,e)}}),r.register(function(e){switch(e.actionType){case i.CHECKING_STATE_NONE:case i.CHECKING_STATE_SEND:case i.CHECKING_STATE_RECEIVE:case i.CHECKING_STATE_TOSAVINGS:case i.CHECKING_STATE_TOCHECKING:return c=e.actionType,l=e.addr,u.emitChange()}}),n.exports=u}),require.register("stores/KeyStore.ls",function(e,t,n){function r(e,t){var n,r=function(s){return e.length>1?function(){var i=s?s.concat():[];return n=t?n||this:this,i.push.apply(i,arguments)<e.length&&arguments.length?r.call(n,i):e.apply(n,i)}:e};return r()}var s,i,a,o,c,l,u,d,m,p,h,f,g,y,b,C,N,v,k,T;s=t("../dispatcher/AppDispatcher"),i=t("events").EventEmitter,a=t("../constants/KeyConstants"),o=t("object-assign"),c=t("../utils/url-params"),l=t("../utils/keygen"),u=t("prelude-ls"),d=u.map,m=u.fold,p=u.filter,h=u.reverse,f="change",g=m(r(function(e,t){return e+t}),0),y=!0,b=c.key,C=null,N=!1,v=[],k=[],T=o({},i.prototype,{locked:function(){return y},getLockedKey:function(){return b},getError:function(){return N},getCheckingAccounts:function(){return h(p(function(e){return 0!==e.balance||0===e.txns.length})(v))},getCheckingBalance:function(){return g(d(function(e){return e.balance})(this.getCheckingAccounts()))},updateCheckingAccounts:function(){return v=d(function(e){return{keyIdx:e,address:C.derive(e).publicKey.toAddress().toString(),balance:10*e,txns:function(){var e,t,n=[];for(e=0,t=Math.round(10*Math.random());t>=e;++e)n.push(e);return n}()}})([0,1,2,3,4,5,6]),v[6].balance=0,v[6].txns=[]},emitChange:function(){return this.emit(f)},addChangeListener:function(e){return this.on(f,e)},removeChangeListener:function(e){return this.removeListener(f,e)}}),s.register(function(e){switch(N=!1,e.actionType){case a.KEY_SET_LOCKED:return b=e.lockedKey,T.emitChange();case a.KEY_UNLOCK:return b=e.lockedKey,l.unlockKey(b,e.password,function(e){return e?l.generateHdroot(e,function(e){return C=e.hdPublicKey.derive(0),T.updateCheckingAccounts(),y=!1,T.emitChange()}):(N="Incorrect password",T.emitChange())})}}),n.exports=T}),require.register("stores/MenuStore.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m;r=t("../dispatcher/AppDispatcher"),s=t("events").EventEmitter,i=t("../constants/MenuConstants"),a=t("object-assign"),o="change",c=[],l=!0,u=0,d=0,m=a({},s.prototype,{register:function(e,t){var n;return n=u,u+=1,c.push({id:n,name:e,comp:t})},isCollapsed:function(){return l},getAllItems:function(){return c},getSelectedId:function(){return d},emitChange:function(){return this.emit(o)},addChangeListener:function(e){return this.on(o,e)},removeChangeListener:function(e){return this.removeListener(o,e)}}),r.register(function(e){switch(e.actionType){case i.MENU_TOGGLE:return l=!l,m.emitChange();case i.MENU_SELECT:return d=e.id,l=!0,m.emitChange()}}),n.exports=m}),require.register("utils/cardprinting.ls",function(e,t,n){var r,s;r=t("./encoding"),n.exports=s={printKeyCard:function(e){var t;return t=r.bufferToBase58(r.hexToBuffer(e)),s.print('<div id="print-btn" class="ui blue button" onclick="printCard()">Print</div>\n<div class="ui card" style="width:53.98mm; height:85.60mm">\n<div class="content">\n  <div class="ui transparent input">\n    <img class="ui avatar image" src="img/logomask.png">\n    <input type="text" placeholder="Wallet name here ...">\n  </div>\n</div>\n<div class="ui center aligned grid">\n<div class="image">\n  <div class="ui segment">\n    <div id="qrcode"></div>\n  </div>\n</div>\n</div>\n<div class="content">\n  <i class="key icon"></i>\n  <p style="word-wrap:break-word;">'+e+"</p>\n</div>\n</div>\n<script>\ndocument.addEventListener('DOMContentLoaded', function() {\nnew QRCode(document.getElementById('qrcode'), {\n  text: \""+t+"\",\n  width: 150,\n  height: 150,\n  // colorDark : \"#000000\",\n  // colorLight : \"#ffffff\",\n  correctLevel : QRCode.CorrectLevel.H\n})\n});\nfunction printCard() {\nvar b = document.getElementById('print-btn');\nb.setAttribute('class','hidden');\nb.innerHTML = '';\nsetTimeout(function(){\n  window.print();\n  window.close();\n}, 50);\n}\n</script>")},print:function(e){var t;return t=window.open("","My PeerKeeper Wallet",""),t.document.write("<html><head><title>My PeerKeeper Wallet</title>"),t.document.write('<link rel="stylesheet" href="semantic-ui/full/icon.css" type="text/css" />'),t.document.write('<link rel="stylesheet" href="semantic-ui/full/semantic.css" type="text/css" />'),t.document.write('<script src="js/qrcode.min.js"></script>'),t.document.write("</head><body>"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),t.focus()}}}),require.register("utils/encoding.ls",function(e,t,n){var r,s;r=t("base64-js"),s=t("bitcore-lib"),n.exports={bufferToHex:s.util.buffer.bufferToHex,hexToBuffer:s.util.buffer.hexToBuffer,bufferToBase64:r.fromByteArray,base64ToBuffer:function(e){return new Buffer(r.toByteArray(e))},bufferToBase58:s.encoding.Base58.encode,base58ToBuffer:s.encoding.Base58.decode,bufferToBase58check:s.encoding.Base58Check.encode,base58checkToBuffer:s.encoding.Base58Check.decode}}),require.register("utils/keygen.ls",function(e,t,n){var r,s,i,a,o,c,l,u,d,m,p,h,f,g;r=t("scrypt-async"),s=t("bitcore-lib"),i=t("prelude-ls").sum,a=128,o=32,c=function(e,t,n,s){return r(e,t,n,8,o,1e3,s)},l=function(e,t){return e.subarray(t+1,e.length-1)},u=function(e){return e[0]=0,e},d=function(e,t){return e[0]=e[0]|a,e[1]=t,e},m=function(e){return e[1]},p=function(e){return 0!==(e[0]&a)},h=function(e,t){return e[0]=e[0]|t,e},f=function(e){var t;return t=255^a,e[0]&t},n.exports=g={
generateRandomSeed:function(){return s.crypto.Random.getRandomBuffer(o)},generateLockedKey:function(e,t,n,r){return c(t,l(e,t.length),n,function(t){return r(s.util.buffer.bufferToHex(h(d(u(e),t[0]),n)))})},unlockKey:function(e,t,n){var r,i;return r=s.util.buffer.hexToBuffer(e),i=f(r),p(r)?c(t,l(r,t.length),i,function(e){var s;return s=m(r),e[0]===s?c(t,r,i,n):n(!1)}):c(t,r,i,n)},generateHdroot:function(e,t){return t(s.HDPrivateKey.fromSeed(new Buffer(e)))},extractAddress:function(e){return s.Address.fromString(/[a-km-zA-HJ-NP-Z0-9]{27,34}/.exec(e)[0])}},s.Networks.add({name:"peercoin",alias:"ppcoin",pubkeyhash:55,privatekey:183,scripthash:117,xpubkey:76067358,xprivkey:76066276}),s.Networks.add({name:"peercoin-testnet",alias:"ppcoin-test",pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956}),s.Networks.defaultNetwork=s.Networks.get("peercoin")}),require.register("utils/url-params.js",function(e,t,n){"use strict";var r;(window.onpopstate=function(){var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,s=function(e){return decodeURIComponent(e.replace(t," "))},i=window.location.search.substring(1);for(i||(i=window.location.hash.substring(1)),r={};e=n.exec(i);)r[s(e[1])]=s(e[2])})(),n.exports=r}),require.alias("events/events.js","events"),require.alias("buffer/index.js","buffer"),require.alias("crypto-browserify/index.js","crypto"),require.alias("process/browser.js","process"),require.alias("assert/assert.js","assert"),require.alias("url/url.js","url"),require.alias("punycode/punycode.js","punycode"),require.alias("querystring-es3/index.js","querystring"),require.alias("util/util.js","sys"),require.alias("stream-browserify/index.js","stream"),require.alias("string_decoder/index.js","string_decoder"),require.alias("vm-browserify/index.js","vm"),e=require("process"),require.register("___globals___",function(e,t,n){})}(),require("___globals___");